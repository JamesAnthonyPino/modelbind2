!function(o){var i=function(a,t){var d={autoUpdate:!0,bindAttribute:"id"};d=o.extend({},d,t);var i=o.extend({},t.model);this.init=function(){var t=this;return this.updateForm(),$elems=this.getDynamicElems(),$elems.change(function(){t.updateModel()}),a},this.getDynamicElems=function(){return o(a).find("input,select,textarea").filter(function(t,e){var i=o(e).attr("data-fn");if(void 0!==i&&!1!==i)return!0})},this.updateModel=function(){this.getDynamicElems().each(function(t,e){i[o(e).attr(d.bindAttribute)]=o(this).val()})},this.setModel=function(t){i=o.extend({},t),this.updateForm()},this.updateForm=function(){o.each(i,function(t,e){var i=o(a).find("["+d.bindAttribute+"="+t+"]");if(0<i.length){var n=i.get(0).tagName;["INPUT","SELECT","TEXTAREA"].includes(n)?i.val(e):i.text(e)}})},this.getModel=function(){return this.updateModel(),o.extend({},i)}};o.fn.modelbind=function(){var t=o(this).data("instance");if(void 0===t){var e=(t=new i(this,arguments[0])).init();o(e).data("instance",t)}else if("string"==typeof arguments[0])if("updateModel"===arguments[0])t.updateModel();else if("updateForm"===arguments[0])t.updateForm();else{if("getModel"===arguments[0])return t.getModel();"setModel"===arguments[0]&&t.setModel(arguments[1])}}}(jQuery);